const buttonSearch=document.querySelector(".button-search"),searchPopup=document.querySelector(".search-form-popup"),searchForm=searchPopup.querySelector(".search-form-intro"),arrivalDate=searchPopup.querySelector("[name=arrival-date]"),departureDate=searchPopup.querySelector("[name=departure-date]"),numChildren=searchPopup.querySelector("[name=num-children]"),numAdults=searchPopup.querySelector("[name=num-adults]");document.addEventListener("DOMContentLoaded",function(){searchPopup.classList.remove("popup-show"),searchPopup.classList.add("popup-close")}),buttonSearch.addEventListener("click",function(e){searchPopup.classList.contains("popup-error")&&(e.preventDefault(),searchPopup.classList.remove("popup-error")),e.preventDefault(),searchPopup.classList.toggle("popup-show"),searchPopup.classList.toggle("popup-close"),arrivalDate.focus()}),searchForm.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&numAdults.value&&numChildren||(e.preventDefault(),searchPopup.classList.remove("popup-error"),searchPopup.offsetWidth=searchPopup.offsetWidth,searchPopup.classList.add("popup-error"),arrivalDate.focus())}),window.addEventListener("keydown",function(e){"Esc"!==e.key&&"Escape"!==e.key||searchPopup.classList.contains("popup-show")&&(e.preventDefault(),searchPopup.classList.remove("popup-show"),searchPopup.classList.remove("popup-error"),searchPopup.classList.add("popup-close"))});